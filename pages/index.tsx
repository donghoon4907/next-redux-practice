import type { NextPage } from 'next';
import type { CoreSelectOption } from '@interfaces/core';
import type { AppState } from '@reducers/index';
import type { DemoState } from '@reducers/demo';
import Head from 'next/head';
import { useState, useMemo } from 'react';
import { useSelector } from 'react-redux';
import { END } from 'redux-saga';
import { Select } from '@components/select';
// import { COLORS } from '@datas/select-options/colors';
import { Input } from '@components/input';
import { Label } from '@components/label';
import { useInput } from '@hooks/use-input';
import { Header } from '@components/header';
import { wrapper } from '@store/redux';

const Home: NextPage = () => {
    const customerName = useInput('');

    // const [selectedColors, setSelectedColors] = useState<
    //     readonly CoreSelectOption[]
    // >([]);

    return (
        <div className="app-container app-theme-white fixed-header fixed-sidebar fixed-footer">
            <Head>
                <title>Create Next App</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>

            <section>
                <Header />
                <div className="wr-main__wrap">
                    <main className="wr-main">
                        <div className="breadcrumb-wrap">
                            <nav aria-label="breadcrumb">
                                <ol className="breadcrumb">
                                    <li className="breadcrumb-item">
                                        <a href="#">개인영업 1</a>
                                    </li>
                                    <li className="breadcrumb-item">
                                        <a href="#">신노원사업단</a>
                                    </li>
                                    <li
                                        className="breadcrumb-item active"
                                        aria-current="page"
                                    >
                                        업무보전
                                    </li>
                                </ol>
                            </nav>
                        </div>
                        <div className="row mt-3">
                            <div className="col-6">
                                <div className="row">
                                    <div className="col">
                                        <form>
                                            <Label htmlFor="customerName">
                                                고객명
                                            </Label>
                                            <Input
                                                type="text"
                                                id="customerName"
                                                placeholder="입력하세요"
                                                {...customerName}
                                            />
                                        </form>
                                    </div>
                                    <div className="col">
                                        <div>
                                            <label
                                                htmlFor="basic-url"
                                                className="form-label"
                                            >
                                                고객구분
                                            </label>
                                            <div className="input-group">
                                                {/* <Select
                                                    value={selectedColors}
                                                    options={COLORS}
                                                    setValue={setSelectedColors}
                                                    placeholder="선택하세요"
                                                /> */}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="col-6">
                                <div className="row">
                                    <div className="col">
                                        <div className="wr-table__wrap">
                                            {/* <Table
                                                columns={columns}
                                                data={data}
                                            /> */}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </section>
        </div>
    );
};

export const getServerSideProps = wrapper.getServerSideProps(
    ({ dispatch, sagaTask }) =>
        async (_) => {
            // dispatch(demoRequest({}));

            dispatch(END);

            await sagaTask?.toPromise();

            return {
                props: {},
            };
        },
);

export default Home;
